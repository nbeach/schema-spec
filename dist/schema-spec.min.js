!function(n,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():n.SchemaSpec=t()}(this,function(){function n(n,o){t.conditions.array(n)||(n=[n]);for(var i=0;i<n.length;i++)if(n[i](o)===!1)return!1;return!0}var t=function(){this._propertyConditions={},this._universalConditions=[]};t.prototype._addConditions=function(n,o){var i=[].concat(n);return t.conditions.array(o)?i=i.concat(o):i.push(o),i},t.prototype._validateValue=function(n,t){for(var o in n)if(n.hasOwnProperty(o)&&n[o](t)===!1)return!1;return!0},t.prototype.all=function(n){return this._universalConditions=this._addConditions(this._universalConditions,n),this},t.prototype.property=function(n,o){return t.conditions.undefined(this._propertyConditions[n])&&(this._propertyConditions[n]=[]),t.conditions.undefined(o)||t.conditions["null"](o)||(this._propertyConditions[n]=this._addConditions(this._propertyConditions[n],o)),this},t.prototype.validate=function(n){if(!t.conditions.object(n))throw new Error("Value to validate is not an object");if(0===Object.keys(this._propertyConditions).length)throw new Error("No object properties specified");for(var o in this._propertyConditions){for(var i=0;i<this._universalConditions.length;i++)if(this._universalConditions[i](n[o])===!1)return!1;if(this._validateValue(this._propertyConditions[o],n[o])===!1)return!1}return!0},t.conditions={},t.conditions["null"]=function(n){return null===n},t.conditions.undefined=function(n){return"undefined"==typeof n},t.conditions.strings=t.conditions.string=function(n){return"string"==typeof n},t.conditions.numbers=t.conditions.number=function(n){return"number"==typeof n},t.conditions.booleans=t.conditions["boolean"]=function(n){return"boolean"==typeof n},t.conditions.functions=t.conditions["function"]=function(n){return"function"==typeof n},t.conditions.objects=t.conditions.object=function(n){return"object"==typeof n},t.conditions.arrays=t.conditions.array=function(n){return"[object Array]"===Object.prototype.toString.call(n)},t.conditions.integers=t.conditions.integer=function(n){return t.conditions.number(n)&&n%1===0},t.conditions.empty=function(n){return t.conditions.string(n)&&0===n.length};var o={};for(var i in t.conditions)t.conditions.hasOwnProperty(i)&&"not"!==i&&!function(n){o[n]=function(o){return!t.conditions[n](o)}}(i);return t.conditions.not=o,t.conditions.length=function(n){return function(o){return t.conditions.not.undefined(o.length)&&o.length===n}},t.conditions.not.length=function(n){return function(o){return t.conditions.not.undefined(o.length)&&o.length!==n}},t.conditions.equal={to:function(n){return function(t){return t===n}}},t.conditions.not.equal={to:function(n){return function(t){return t!==n}}},t.conditions.min={length:function(n){return function(o){return t.conditions.not.undefined(o.length)&&o.length>=n}}},t.conditions.max={length:function(n){return function(o){return t.conditions.not.undefined(o.length)&&o.length<=n}}},t.conditions.greater={than:function(n){return function(t){return t>n}}},t.conditions.less={than:function(n){return function(t){return n>t}}},t.conditions.schema=function(n){return function(o){return t.conditions.object(o)&&n.validate(o)}},t.conditions.arrayOf=function(n){return function(o){if(!t.conditions.array(o))return!1;t.conditions.array(n)||(n=[n]);for(var i=0;i<o.length;i++)for(var r=0;r<n.length;r++)if(!n[r](o[i]))return!1;return!0}},t.conditions.either=function(t){return{or:function(o){return function(i){return n(t,i)||n(o,i)}}}},t});
//# sourceMappingURL=schema-spec.min.js.map
